<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="/stylesheets/user/home.css" type="text/css" rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css?family=Barlow+Semi+Condensed|Josefin+Sans&display=swap|Permanent+Marker&display&display=swap"
    rel="stylesheet" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <!-- //font-awesome link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <link rel="stylesheet" href="/stylesheets/user/cart.css">
  <link rel="stylesheet" href="/stylesheets/user/profile.css" />
  <link rel="stylesheet" href="/stylesheets/user/address.css">

  <title>STEPUP SHOES</title>
  <style>
    body {
      font-family: 'Josefin Sans', sans-serif;
    }
  </style>
</head>

<body>
  <header>
    <div id="header-info">
      <!-- <p id="contactus">Contact Us</p> -->
      <img src="/img/amoli-jewels-high-resolution-logo-black.png" class="logo" />
      <h1 id="store-name">Amoli Jewels</h1>
      <div class="nav-icons">
        <div class="dropdown" id="my-account-dropdown">
          <a id="my-account" onclick="toggleDropdown()"><i class="fa fa-regular fa-user fa-xl"></i> My Account</a>
          <div class="dropdown-content" id="account-options">
            <a href="/profile"><i class="fa fa-regular fa-user fa-sm"></i> My Profile</a>
            <a href="#"><i class="fa fa-regular fa-receipt fa-sm"></i> Orders</a>
            <a href="#"><i class="fa fa-regular fa-heart fa-sm"></i> Wishlist</a>
            <a href="#"><i class="fa fa-regular fa-ticket fa-sm"></i> Coupons</a>
            <a href="/logout"><i class="fa fa-regular fa-sign-out-alt fa-sm"></i> Logout</a>
          </div>
        </div>

        <a id="addtocart" href="/cart" style="color: black; text-decoration: none;">My Cart<i
            class="fa fa-duotone fa-cart-shopping fa-xl"></i></a>
      </div>
    </div>
    </div>

    <nav id="nav-bar">
      <a href="/home">Home</a>
      <a href="">About us</a>
      <a href="">Contact</a>
      <a href="/athletic-shoes">Products</a>
      <img src="" id="search-icon" />
    </nav>
  </header>


  <div class="container">
    <div class="main-body">
      <div class="row">
        <div class="col-lg-4">
          <div class="card1">
            <div class="card1-body">
              <div class="d-flex flex-column align-items-center text-center">
                <img src="https://bootdey.com/img/Content/avatar/avatar6.png" alt="Admin"
                  class="rounded-circle p-1 bg-primary" width="110" />
                <div class="mt-3">
                  <h4>John Doe</h4>
                </div>
              </div>
              <hr class="my-4" />
              <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                  <a href="/profile">Profile Information</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                  <a href="/address">Manage Addresses</a>
                </li>
                <!-- <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                  <a href="#">Change Password</a>
                </li> -->
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                  <a href="#">My Orders</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"></li>
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"></li>
                <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"></li>
              </ul>


            </div>
          </div>
        </div>


        <!-- Edit Address Section -->
        <div class="col-lg-8">
          <div class="card3">
            <div class="card-body">
              <h4 class="card-title">Edit Address</h4>
              <form action="/editAddress/<%= address._id %>" method="post" onsubmit="return validateForm()">
                <div class="mb-3">
                  <label for="editName" class="form-label">Name:</label>
                  <input type="text" class="form-control" id="editName" name="name" value="<%= address.name %>"
                    placeholder="Enter name">
                  <small class="text-danger" id="editNameError"></small> <!-- Error message for name -->
                </div>
                <div class="mb-3">
                  <label for="editAddress" class="form-label">Address:</label>
                  <input type="text" class="form-control" id="editAddress" name="address" value="<%= address.address %>"
                    placeholder="Enter address">
                  <small class="text-danger" id="editAddressError"></small>
                </div>
                <div class="mb-3">
                  <label for="editPhone" class="form-label">Phone:</label>
                  <input type="tel" class="form-control" id="editPhone" name="phone" value="<%= address.phone %>"
                    placeholder="Enter phone number" pattern="[0-9]{10}" title="Phone number should be 10 digits">
                  <small class="text-danger" id="editPhoneError"></small>
                </div>
                <div class="mb-3">
                  <label for="editLocality" class="form-label">Locality:</label>
                  <input type="text" class="form-control" id="editLocality" name="locality"
                    value="<%= address.locality %>" placeholder="Enter locality">
                  <small class="text-danger" id="editLocalityError"></small>
                </div>
                <div class="mb-3">
                  <label for="editPincode" class="form-label">Pincode:</label>
                  <input type="text" class="form-control" id="editPincode" name="pincode" value="<%= address.pincode %>"
                    placeholder="Enter pincode">
                  <small class="text-danger" id="editPincodeError"></small> <!-- Error message for pincode -->
                </div>
                <div class="mb-3">
                  <label for="editState" class="form-label">State:</label>
                  <input type="text" class="form-control" id="editState" name="state" value="<%= address.state %>"
                    placeholder="Enter state">
                  <small class="text-danger" id="editStateError"></small> <!-- Error message for state -->
                </div>
                <button type="submit" class="btn btn-primary">Save Address</button>
              </form>
            </div>
          </div>
        </div>








        <!--FOOTER SECTION-->
        <footer>
          <div class="footer-content">
            <div class="footer-logo">
              <img src="/img/amoli-jewels-high-resolution-logo-white.png" class="logo"
                style="width: 70px; height: 60px;" />
            </div>
            <h2>FOLLOW US</h2>
            <div class="social-icons">
              <div class="icon-div">
                <a href="#" class="icon"><i class="fa-brands fa-facebook fa-xl" style="color: #f1f3f3;"></i></a>
              </div>
              <div class="icon-div">
                <a href="#" class="icon"><i class="fa-brands fa-twitter fa-xl" style="color: #f1f3f3;"></i></a>
              </div>
              <div class="icon-div">
                <a href="#" class="icon"><i class="fa-brands fa-instagram fa-xl" style="color: #f1f3f3;"></i></i></a>
              </div>
              <div class="icon-div">
                <a href="#" class="icon"><i class="fa-brands fa-youtube fa-xl" style="color: #f1f3f3;"></i></a>
              </div>
            </div>
            <ul class="footer-links">
              <li><a href="#">FAQS</a></li>
              <li><a href="#">About</a></li>
              <li><a href="#">Shippping and Delivery</a></li>
              <li><a href="#">Payments</a></li>
            </ul>
          </div>
          <p>&copy; 2024 Your Company. All rights reserved.</p>
        </footer>


        <!-- Bootstrap JS dependencies -->
        <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
          integrity="sha384-ZvpUoIEXLqD6Q8fL5D+V2HFWqIq0D+IIuOvq9Wl9+CyIpO8yBDWXpSLtA7V7DSq"
          crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
          integrity="sha384-o5D/P2KLTf6Jo5yO5PDSKAVsZz4D3COIvY9WN6n5NGWSgZQaDi2K7eVR6qJDOOh"
          crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
          crossorigin="anonymous"></script>



        <script>
          function validateForm() {
            let isValid = true; // Track overall form validity

            // Name validation
            const editNameInput = document.getElementById('editName');
            const editNameError = document.getElementById('editNameError');
            if (editNameInput.value.trim() === '') {
              editNameError.innerText = 'Name is required';
              isValid = false;
            } else {
              editNameError.innerText = ''; // Clear any previous error message
            }

            // Address validation
            const editAddressInput = document.getElementById('editAddress');
            const editAddressError = document.getElementById('editAddressError');
            if (editAddressInput.value.trim() === '') {
              editAddressError.innerText = 'Address is required';
              isValid = false;
            } else {
              editAddressError.innerText = ''; // Clear any previous error message
            }

            // Phone number validation
            const editPhoneInput = document.getElementById('editPhone');
            const editPhoneError = document.getElementById('editPhoneError');
            if (!/^\d{10}$/.test(editPhoneInput.value)) {
              editPhoneError.innerText = 'Phone number should be 10 digits';
              isValid = false;
            } else {
              editPhoneError.innerText = ''; // Clear any previous error message
            }

            // Locality validation
            const editLocalityInput = document.getElementById('editLocality');
            const editLocalityError = document.getElementById('editLocalityError');
            if (editLocalityInput.value.trim() === '') {
              editLocalityError.innerText = 'Locality is required';
              isValid = false;
            } else {
              editLocalityError.innerText = ''; // Clear any previous error message
            }

            // Pincode validation
            const editPincodeInput = document.getElementById('editPincode');
            const editPincodeError = document.getElementById('editPincodeError');
            if (!/^\d{6}$/.test(editPincodeInput.value)) {
              editPincodeError.innerText = 'Pincode should be 6 digits';
              isValid = false;
            } else {
              editPincodeError.innerText = ''; // Clear any previous error message
            }

            // State validation
            const editStateInput = document.getElementById('editState');
            const editStateError = document.getElementById('editStateError');
            if (editStateInput.value.trim() === '') {
              editStateError.innerText = 'State is required';
              isValid = false;
            } else if (/\d/.test(editStateInput.value)) {
              editStateError.innerText = 'State should not contain numbers';
              isValid = false;
            } else {
              editStateError.innerText = ''; // Clear any previous error message
            }


            return isValid; // Return overall form validity
          }
        </script>






        <script>
          function toggleDropdown() {
            var dropdown = document.getElementById("account-options");
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
          }

          // Close the dropdown if the user clicks outside of it
          window.onclick = function (event) {
            if (!event.target.matches('#my-account')) {
              var dropdown = document.getElementById("account-options");
              if (dropdown.style.display === "block") {
                dropdown.style.display = "none";
              }
            }
          };

        </script>
</body>

</html>